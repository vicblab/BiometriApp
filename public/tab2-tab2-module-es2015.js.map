{"version":3,"sources":["./src/app/tab2/tab2.page.html","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","file":"tab2-tab2-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n        <ion-title>\\r\\n            BLE Scanner\\r\\n        </ion-title>\\r\\n        <ion-button (click)=\\\"discover()\\\" slot=\\\"end\\\">\\r\\n            <ion-icon name=\\\"Bluetooth\\\"></ion-icon>\\r\\n            <p>Scan</p>\\r\\n        </ion-button>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\n\\n<ion-content>\\r\\n    <ion-list>\\r\\n        <ion-card-content ion-item *ngFor=\\\"let device of devices\\\">\\r\\n            <p>{{device.name || 'Unnamed'}}</p>\\r\\n            <p>{{device.id||device}}</p>\\r\\n            <p>RSSI: {{device.rssi}}</p>\\r\\n        </ion-card-content>\\r\\n    </ion-list>\\n    </ion-content>\"","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ServicioFirebaseService } from '../ReceptorBLE'\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\r\n\n@NgModule({\n    declarations: [Tab2Page],\n   \n  imports: [\n    IonicModule,\n    CommonModule,\n      FormsModule,\n    \n      \n    RouterModule.forChild([{ path: '', component: Tab2Page }])\n  ],\n    providers: [AngularFirestore,\n        ServicioFirebaseService]\n})\n    \nexport class Tab2PageModule {\n  \n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MifQ== */\"","import { Component, NgZone } from '@angular/core';\n//import { Tab2PageModule } from './tab2.module'\nimport { AngularFirestore } from 'angularfire2/firestore';\r\nimport { ServicioFirebaseService } from '../ReceptorBLE'\r\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { BLE } from '@ionic-native/ble/ngx';\r\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\r\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\r\n\r\nconst laUuid: string = null;\n\r\n\r\n@Component({\n    selector: 'app-tab2',\n    templateUrl: 'tab2.page.html',\n    styleUrls: ['tab2.page.scss']\n\n})\n\n\nexport class Tab2Page {\n    \n    devices: any[] = [];\n    arr: Array<string> = [\"este es de prueba\"];\n    miLista: string=\"hola\";\r\n   \n    service: ServicioFirebaseService;\n    constructor(private fireStore: AngularFirestore, public toastController: ToastController, private ble: BLE, private ngZone: NgZone, private BLE: BluetoothSerial, private geolocation: Geolocation, private permissions: AndroidPermissions) {\r\n\r\n        this.service = new ServicioFirebaseService(fireStore, ble, BLE, geolocation);\r\n       // this.text = \"hello darkness\";\r\n    }\n    discover() {\r\n        this.devices = [];\r\n        this.ble.scan([], 15).subscribe(\r\n            device => this.onDeviceDiscovered(device), err => { this.devices.push(err)\r\n            }\r\n        );\r\n    }\n    \n    onDeviceDiscovered(device) {\r\n        console.log('Discovered' + JSON.stringify(device, null, 2));\r\n        this.ngZone.run(() => {\r\n            this.devices.push(device)\r\n            console.log(device)\r\n        })\r\n    }\n    \n    ngAfterViewInit() {\n       // this.permissions.checkPermission(\"ACCESS_FINE_LOCATION\").then(res => {\n           // this.permissions.requestPermission(\"ACCESS_FINE_LOCATION\").then(() => { this.presentToast(\"Localizaciï¿½n activada\"); \n        var str=\"\";\n        this.service.add(\"hola\");\n        this.presentToast(\"Has enviado hola a la bbdd\");\n        if (laUuid == null) {\n            this.ble.scan([], 15).subscribe(\r\n                device => { str = device.id; }\r\n            );\r\n        } else { str = laUuid }\n\n        this.service.encenderBT();\n        this.service.suscribirse();\n           // })\r\n        //});\n        //modificar:\n      \n        \r\n    }\n    public async presentToast(texto:string) {\r\n        const toast = await this.toastController.create({\r\n            message: texto,\r\n            duration: 2000\r\n        });\r\n        toast.present();\r\n    }\n}\n\n"],"sourceRoot":""}